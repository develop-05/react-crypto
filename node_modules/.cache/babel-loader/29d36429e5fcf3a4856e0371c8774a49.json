{"ast":null,"code":"import _asyncToGenerator from\"D:/react-crypto/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react-crypto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\react-crypto\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Box,Button,TextField}from\"@material-ui/core\";import{useState}from\"react\";import{CryptoState}from\"../../CryptoContext\";import{createUserWithEmailAndPassword}from\"firebase/auth\";import{auth}from\"../../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(_ref){var handleClose=_ref.handleClose;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isType=_useState8[0],setIsType=_useState8[1];var _CryptoState=CryptoState(),setAlert=_CryptoState.setAlert;var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password!==confirmPassword)){_context.next=3;break;}setAlert({open:true,message:\"Пароль не совпадает\",type:\"error\"});return _context.abrupt(\"return\");case 3:_context.prev=3;_context.next=6;return createUserWithEmailAndPassword(auth,email,password);case 6:result=_context.sent;setAlert({open:true,message:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D\\u0430. \\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \".concat(result.user.email),type:\"success\"});handleClose();_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](3);setAlert({open:true,message:_context.t0.message,type:\"error\"});return _context.abrupt(\"return\");case 15:case\"end\":return _context.stop();}}},_callee,null,[[3,11]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Box,{p:3,style:{display:\"flex\",flexDirection:\"column\",gap:\"20px\"},children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",type:\"email\",label:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",label:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:isType?\"password\":\"text\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",label:\"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",type:isType?\"password\":\"text\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:\"transparent\",border:\"none\",outline:\"none\",color:\"white\",cursor:\"pointer\"},onClick:function onClick(){return setIsType(!isType);},children:isType?\"Показать пароль\":\"Скрыть пароль\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",style:{backgroundColor:\"#EEBC1D\"},onClick:handleSubmit,children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]});};export default Signup;","map":{"version":3,"sources":["D:/react-crypto/src/components/Authentication/Signup.jsx"],"names":["Box","Button","TextField","useState","CryptoState","createUserWithEmailAndPassword","auth","Signup","handleClose","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","isType","setIsType","setAlert","handleSubmit","open","message","type","result","user","display","flexDirection","gap","e","target","value","backgroundColor","border","outline","color","cursor"],"mappings":"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","sourcesContent":["import { Box, Button, TextField } from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { CryptoState } from \"../../CryptoContext\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from \"../../firebase\";\n\nconst Signup = ({ handleClose }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const [isType, setIsType] = useState(true);\n\n\n  const { setAlert } = CryptoState();\n\n  const handleSubmit = async () => {\n    if (password !== confirmPassword) {\n      setAlert({\n        open: true,\n        message: \"Пароль не совпадает\",\n        type: \"error\",\n      });\n      return;\n    }\n\n    try {\n      const result = await createUserWithEmailAndPassword(\n        auth,\n        email,\n        password\n      );\n      setAlert({\n        open: true,\n        message: `Регистрация завершена. Добро пожаловать ${result.user.email}`,\n        type: \"success\",\n      });\n\n      handleClose();\n    } catch (error) {\n      setAlert({\n        open: true,\n        message: error.message,\n        type: \"error\",\n      });\n      return;\n    }\n  };\n\n  return (\n    <Box\n      p={3}\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"20px\",\n      }}\n    >\n      <TextField\n        variant=\"outlined\"\n        type=\"email\"\n        label=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        fullWidth\n      />\n      <TextField\n        variant=\"outlined\"\n        label=\"Пароль\"\n        type={isType ? \"password\" : \"text\"}\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        fullWidth\n      />\n      <TextField\n        variant=\"outlined\"\n        label=\"Подтвердите пароль\"\n        type={isType ? \"password\" : \"text\"}\n        value={confirmPassword}\n        onChange={(e) => setConfirmPassword(e.target.value)}\n        fullWidth\n      />\n\n      <button style={{backgroundColor: \"transparent\", border: \"none\", outline: \"none\", color: \"white\", cursor: \"pointer\"}}\n        onClick={() => setIsType(!isType)}>\n        {isType ? \"Показать пароль\" : \"Скрыть пароль\"}\n      </button>\n      <Button\n        variant=\"contained\"\n        size=\"large\"\n        style={{ backgroundColor: \"#EEBC1D\" }}\n        onClick={handleSubmit}\n      >\n        Зарегистрироваться\n      </Button>\n    </Box>\n  );\n};\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}