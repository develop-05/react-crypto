{"ast":null,"code":"import _slicedToArray from\"D:/react-crypto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{makeStyles}from\"@material-ui/core/styles\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import{Button,Tab,Tabs,AppBar,Box}from\"@material-ui/core\";import Signup from\"./Signup\";import Login from\"./Login\";import{useState}from\"react\";import{CryptoState}from\"../../CryptoContext\";import{auth}from\"../../firebase\";import GoogleButton from\"react-google-button\";import{GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},paper:{width:400,backgroundColor:theme.palette.background.paper,color:\"white\",borderRadius:10},google:{padding:24,paddingTop:0,display:\"flex\",flexDirection:\"column\",textAlign:\"center\",marginLeft:'19%',gap:20,fontSize:20}};});export default function AuthModal(){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _CryptoState=CryptoState(),setAlert=_CryptoState.setAlert;var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var handleChange=function handleChange(event,newValue){setValue(newValue);};var googleProvider=new GoogleAuthProvider();var signInWithGoogle=function signInWithGoogle(){signInWithPopup(auth,googleProvider).then(function(res){setAlert({open:true,message:\"\\u0423\\u0441\\u043F\\u0435\\u0445! \".concat(res.user.email),type:\"success\"});handleClose();}).catch(function(error){setAlert({open:true,message:error.message,type:\"error\"});return;});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",style:{width:85,height:40,marginLeft:15,backgroundColor:\"#EEBC1D\"},onClick:handleOpen,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",style:{backgroundColor:\"transparent\",color:\"white\"},children:/*#__PURE__*/_jsxs(Tabs,{value:value,onChange:handleChange,variant:\"fullWidth\",style:{borderRadius:10},children:[/*#__PURE__*/_jsx(Tab,{label:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsx(Tab,{label:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})]})}),value===0&&/*#__PURE__*/_jsx(Login,{handleClose:handleClose}),value===1&&/*#__PURE__*/_jsx(Signup,{handleClose:handleClose}),/*#__PURE__*/_jsx(Box,{className:classes.google,children:/*#__PURE__*/_jsx(GoogleButton,{style:{width:\"70%\",outline:\"none\"},onClick:signInWithGoogle,label:\"\\u0412\\u043E\\u0439\\u0442\\u0438 \\u0441 Google\"})})]})})})]});}","map":{"version":3,"sources":["D:/react-crypto/src/components/Authentication/AuthModal.jsx"],"names":["makeStyles","Modal","Backdrop","Fade","Button","Tab","Tabs","AppBar","Box","Signup","Login","useState","CryptoState","auth","GoogleButton","GoogleAuthProvider","signInWithPopup","useStyles","theme","modal","display","alignItems","justifyContent","paper","width","backgroundColor","palette","background","color","borderRadius","google","padding","paddingTop","flexDirection","textAlign","marginLeft","gap","fontSize","AuthModal","classes","open","setOpen","setAlert","handleOpen","handleClose","value","setValue","handleChange","event","newValue","googleProvider","signInWithGoogle","then","res","message","user","email","type","catch","error","height","timeout","outline"],"mappings":"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","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport { Button, Tab, Tabs, AppBar, Box } from \"@material-ui/core\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\nimport { useState } from \"react\";\nimport { CryptoState } from \"../../CryptoContext\";\nimport { auth } from \"../../firebase\";\nimport GoogleButton from \"react-google-button\";\nimport { GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    color: \"white\",\n    borderRadius: 10,\n  },\n  google: {\n    padding: 24,\n    paddingTop: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    textAlign: \"center\",\n    marginLeft: '19%',\n    gap: 20,\n    fontSize: 20,\n  },\n}));\n\nexport default function AuthModal() {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const { setAlert } = CryptoState();\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const googleProvider = new GoogleAuthProvider();\n\n  const signInWithGoogle = () => {\n    signInWithPopup(auth, googleProvider)\n      .then((res) => {\n        setAlert({\n          open: true,\n          message: `Успех! ${res.user.email}`,\n          type: \"success\",\n        });\n\n        handleClose();\n      })\n      .catch((error) => {\n        setAlert({\n          open: true,\n          message: error.message,\n          type: \"error\",\n        });\n        return;\n      });\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"contained\"\n        style={{\n          width: 85,\n          height: 40,\n          marginLeft: 15,\n          backgroundColor: \"#EEBC1D\",\n        }}\n        onClick={handleOpen}\n      >\n        Войти\n      </Button>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <AppBar\n              position=\"static\"\n              style={{\n                backgroundColor: \"transparent\",\n                color: \"white\",\n              }}\n            >\n              <Tabs\n                value={value}\n                onChange={handleChange}\n                variant=\"fullWidth\"\n                style={{ borderRadius: 10 }}\n              >\n                <Tab label=\"Войти\" />\n                <Tab label=\"Регистрация\" />\n              </Tabs>\n            </AppBar>\n            {value === 0 && <Login handleClose={handleClose} />}\n            {value === 1 && <Signup handleClose={handleClose} />}\n            <Box className={classes.google}>\n              \n              <GoogleButton\n                style={{ width: \"70%\", outline: \"none\"}}\n                onClick={signInWithGoogle}\n                label='Войти с Google'\n              /> \n            </Box>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}